@layout MainLayout
@page "/"

<h1 class="text-4xl font-bold mb-4 mt-[111px]">Popper.Blazor</h1>

<div class="mt-4 mb-16">
    <Popper @bind-Open="_isOpen" Placement="Placement.Bottom" Offset="(5, 5)" AutoClose>
        <Anchor>
            <button class="bg-cyan-800 text-white rounded px-4 py-2" @onclick="() => _isOpen = !_isOpen">Autoclosing Popper</button>
        </Anchor>
        <Content>
            <div class="border border-gray-300 bg-white p-4 rounded">
                Here's some popover content
            </div>
        </Content>
    </Popper>
</div>

<div class="my-16">
    <Popper @bind-Open="_hoverIsOpen" Placement="Placement.Bottom" Offset="(5, 5)">
        <Anchor>
            <button class="bg-cyan-800 text-white rounded px-4 py-2" @onmouseenter="() => _hoverIsOpen = true" @onmouseleave="() => _hoverIsOpen = false">
                Hover Popper
            </button>
        </Anchor>
        <Content>
            <div class="border border-gray-300 bg-white p-4 rounded">
                Here's some popover content
            </div>
        </Content>
    </Popper>
</div>

<div class="my-24 flex justify-center items-center">
    <Popper Open Placement="@_placement" Offset="@((_offsetX, _offsetY))">
        <Anchor>
            <div class="flex gap-2 p-8 shadow">
                <label class="flex flex-col justify-between">
                    <span>Placement</span>
                    <select class="border border-gray-300 p-2 rounded" @bind="_placement">
                        @foreach (var placement in Enum.GetValues<Placement>())
                        {
                            <option value="@placement">@placement.ToString()</option>
                        }
                    </select>
                </label>
                <label class="flex flex-col">
                    <span>Offset skid</span>
                    <input class="border border-gray-300 p-2 rounded" type="number" @bind="_offsetX"/>
                </label>
                <label class="flex flex-col">
                    <span>Offset distance</span>
                    <input class="border border-gray-300 p-2 rounded" type="number" @bind="_offsetY"/>
                </label>
            </div>
        </Anchor>
        <Content>
            <div class="border border-gray-700 bg-gray-900 text-white p-4 rounded">
                Here's some popover content
            </div>
        </Content>
    </Popper>
</div>

@code {
    private bool _isOpen;
    private bool _hoverIsOpen;

    private Placement _placement = Placement.Bottom;
    private int _offsetX;
    private int _offsetY;
}

